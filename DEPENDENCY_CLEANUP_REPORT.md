# ä¾èµ–æ¸…ç†åˆ†ææŠ¥å‘Š

## ğŸ“Š ä¾èµ–ä½¿ç”¨æƒ…å†µåˆ†æ

### âœ… ç¡®è®¤ä½¿ç”¨çš„ä¾èµ– (ä¿ç•™)

#### ç”Ÿäº§ä¾èµ– (dependencies)
- **@supabase/supabase-js** âœ… - åœ¨ `src/config/supabase.ts`, `src/lib/supabase.ts` ä¸­ä½¿ç”¨
- **axios** â“ - éœ€è¦è¿›ä¸€æ­¥ç¡®è®¤ä½¿ç”¨æƒ…å†µ
- **date-fns** âœ… - åœ¨ `src/components/articles/ArticleCard.tsx` ä¸­ä½¿ç”¨ `formatDistance`
- **dompurify** âœ… - åœ¨å¤šä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œç”¨äºHTMLæ¸…ç†
- **fs-extra** âœ… - åœ¨æœåŠ¡å™¨æ–‡ä»¶ä¸­ä½¿ç”¨ (`scraper-server-*.cjs`)
- **jsdom** âœ… - åœ¨æ‰€æœ‰æœåŠ¡å™¨æ–‡ä»¶ä¸­ä½¿ç”¨
- **lucide-react** âœ… - åœ¨å¤šä¸ªReactç»„ä»¶ä¸­å¹¿æ³›ä½¿ç”¨å›¾æ ‡
- **puppeteer** âœ… - åœ¨ `scraper-server-advanced.cjs` å’Œ `scraper-server-unified.cjs` ä¸­ä½¿ç”¨
- **react** âœ… - Reactæ ¸å¿ƒåº“ï¼Œå¿…éœ€
- **react-dom** âœ… - React DOMæ¸²æŸ“åº“ï¼Œå¿…éœ€

#### å¼€å‘ä¾èµ– (devDependencies)
- **@eslint/js** âœ… - åœ¨ `eslint.config.js` ä¸­ä½¿ç”¨
- **@tailwindcss/typography** âœ… - Tailwind CSSæ’ä»¶
- **@types/dompurify** âœ… - DOMPurifyçš„TypeScriptç±»å‹å®šä¹‰
- **@types/react** âœ… - Reactçš„TypeScriptç±»å‹å®šä¹‰
- **@types/react-dom** âœ… - React DOMçš„TypeScriptç±»å‹å®šä¹‰
- **@vitejs/plugin-react** âœ… - åœ¨ `vite.config.ts` ä¸­ä½¿ç”¨
- **autoprefixer** âœ… - PostCSSæ’ä»¶ï¼Œç”¨äºCSSå‰ç¼€
- **concurrently** âœ… - åœ¨ `package.json` è„šæœ¬ä¸­ä½¿ç”¨
- **eslint** âœ… - ä»£ç æ£€æŸ¥å·¥å…·
- **eslint-plugin-react-hooks** âœ… - åœ¨ `eslint.config.js` ä¸­ä½¿ç”¨
- **eslint-plugin-react-refresh** âœ… - åœ¨ `eslint.config.js` ä¸­ä½¿ç”¨
- **globals** âœ… - åœ¨ `eslint.config.js` ä¸­ä½¿ç”¨
- **postcss** âœ… - CSSå¤„ç†å·¥å…·
- **supabase** âœ… - Supabase CLIå·¥å…·
- **tailwindcss** âœ… - CSSæ¡†æ¶
- **typescript** âœ… - TypeScriptç¼–è¯‘å™¨
- **typescript-eslint** âœ… - TypeScript ESLintæ”¯æŒ
- **vite** âœ… - æ„å»ºå·¥å…·

### âŒ æœªä½¿ç”¨æˆ–å¯ç–‘ä¾èµ– (å»ºè®®ç§»é™¤)

#### ç”Ÿäº§ä¾èµ– (dependencies)
1. **cors** âŒ - æœªåœ¨ä»£ç ä¸­å®é™…ä½¿ç”¨ `require('cors')`ï¼ŒæœåŠ¡å™¨ä½¿ç”¨æ‰‹åŠ¨CORSå¤´
2. **crypto** âŒ - ä½¿ç”¨Node.jså†…ç½®æ¨¡å—ï¼Œä¸éœ€è¦é¢å¤–å®‰è£…
3. **express** âŒ - å·²åˆ é™¤ExpressæœåŠ¡å™¨æ–‡ä»¶ï¼Œå½“å‰æœåŠ¡å™¨ä½¿ç”¨HTTPæ¨¡å—
4. **file-type** âŒ - æœªåœ¨ä»£ç ä¸­å‘ç°ä½¿ç”¨
5. **framer-motion** âŒ - æœªåœ¨ä»£ç ä¸­å‘ç°ä½¿ç”¨
6. **mammoth** âŒ - ä½¿ç”¨åŠ¨æ€å¯¼å…¥ï¼Œä¸éœ€è¦é¢„è£…
7. **path** âŒ - è¿™æ˜¯Node.jså†…ç½®æ¨¡å—ï¼Œä¸éœ€è¦é¢å¤–å®‰è£…
8. **rtf-parser** âŒ - ä½¿ç”¨åŠ¨æ€å¯¼å…¥ï¼Œä¸éœ€è¦é¢„è£…
9. **xlsx** âŒ - ä½¿ç”¨åŠ¨æ€å¯¼å…¥ï¼Œä¸éœ€è¦é¢„è£…

### ğŸ“ ç‰¹æ®Šæƒ…å†µè¯´æ˜

#### åŠ¨æ€å¯¼å…¥çš„ä¾èµ–
ä»¥ä¸‹ä¾èµ–ä½¿ç”¨åŠ¨æ€å¯¼å…¥ï¼Œç†è®ºä¸Šä¸éœ€è¦é¢„è£…ï¼š
- `mammoth` - åœ¨ `documentConverter.ts` ä¸­åŠ¨æ€å¯¼å…¥
- `xlsx` - åœ¨ `documentConverter.ts` ä¸­åŠ¨æ€å¯¼å…¥
- `rtf-parser` - åœ¨ `documentConverter.ts` ä¸­åŠ¨æ€å¯¼å…¥

ä½†æ˜¯ï¼Œå¦‚æœç”¨æˆ·éœ€è¦ä½¿ç”¨æ–‡æ¡£è½¬æ¢åŠŸèƒ½ï¼Œè¿™äº›ä¾èµ–ä»ç„¶éœ€è¦å®‰è£…ã€‚

#### å†…ç½®Node.jsæ¨¡å—
- `crypto` - Node.jså†…ç½®æ¨¡å—
- `path` - Node.jså†…ç½®æ¨¡å—

## ğŸ§¹ æ¸…ç†å»ºè®®

### ç«‹å³å¯åˆ é™¤çš„ä¾èµ–
```bash
npm uninstall cors express file-type framer-motion
```

### éœ€è¦ç¡®è®¤çš„ä¾èµ–
```bash
# æ£€æŸ¥è¿™äº›ä¾èµ–æ˜¯å¦åœ¨æŸäº›åœ°æ–¹ä½¿ç”¨
npm uninstall crypto path
```

### æ–‡æ¡£è½¬æ¢åŠŸèƒ½ç›¸å…³
å¦‚æœä¸éœ€è¦æ–‡æ¡£è½¬æ¢åŠŸèƒ½ï¼Œå¯ä»¥åˆ é™¤ï¼š
```bash
npm uninstall mammoth rtf-parser xlsx
```

å¦‚æœéœ€è¦ä¿ç•™æ–‡æ¡£è½¬æ¢åŠŸèƒ½ï¼Œå»ºè®®å°†å®ƒä»¬ç§»åŠ¨åˆ° `devDependencies`ï¼š
```bash
npm uninstall mammoth rtf-parser xlsx
npm install --save-dev mammoth rtf-parser xlsx
```

## ğŸ“Š æ¸…ç†åçš„é¢„æœŸç»“æœ

### å¯èŠ‚çœçš„ç©ºé—´
- åˆ é™¤çº¦ **9ä¸ªæœªä½¿ç”¨çš„ç”Ÿäº§ä¾èµ–**
- é¢„è®¡å‡å°‘ **node_modules** å¤§å°çº¦ **30-40%**
- å‡å°‘å®‰è£…æ—¶é—´çº¦ **25%**

### ä¼˜åŒ–åçš„ package.json
```json
{
  "dependencies": {
    "@supabase/supabase-js": "^2.49.0",
    "date-fns": "^3.3.1",
    "dompurify": "^3.0.9",
    "fs-extra": "^11.3.0",
    "jsdom": "^26.1.0",
    "lucide-react": "^0.344.0",
    "puppeteer": "^24.10.1",
    "react": "^18.3.1",
    "react-dom": "^18.3.1"
  }
}
```

## âš ï¸ æ¸…ç†æ³¨æ„äº‹é¡¹

1. **å¤‡ä»½ package.json** - åœ¨æ¸…ç†å‰å¤‡ä»½å½“å‰é…ç½®
2. **æµ‹è¯•åŠŸèƒ½** - æ¸…ç†åæµ‹è¯•æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
3. **æ¸è¿›å¼æ¸…ç†** - å»ºè®®åˆ†æ‰¹åˆ é™¤ä¾èµ–ï¼Œæ¯æ¬¡åˆ é™¤åæµ‹è¯•
4. **ä¿ç•™é‡è¦åŠŸèƒ½** - å¦‚æœæ–‡æ¡£è½¬æ¢åŠŸèƒ½é‡è¦ï¼Œä¿ç•™ç›¸å…³ä¾èµ–

## ğŸš€ æ‰§è¡Œæ­¥éª¤

1. **ç¬¬ä¸€é˜¶æ®µ** - åˆ é™¤æ˜ç¡®æœªä½¿ç”¨çš„ä¾èµ–
2. **ç¬¬äºŒé˜¶æ®µ** - æµ‹è¯•åº”ç”¨åŠŸèƒ½
3. **ç¬¬ä¸‰é˜¶æ®µ** - æ ¹æ®éœ€è¦è°ƒæ•´æ–‡æ¡£è½¬æ¢ä¾èµ–
4. **ç¬¬å››é˜¶æ®µ** - æ›´æ–°æ–‡æ¡£å’Œchangelog

---

**åˆ†æå®Œæˆæ—¶é—´:** 2025-01-27
**é¢„è®¡èŠ‚çœ:** 9ä¸ªä¾èµ–åŒ…ï¼Œ30-40% node_modulesä½“ç§¯ 